# ุฏููู ุฅุนุฏุงุฏ Supabase ูููุดุฑูุน

## ููุฏูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Supabase ูุชุฎุฒูู ุงูุชุนูููุงุช ูุงูุจูุงูุงุช ุงูุฏููุงููููุฉ ูููุดุฑูุน.

## ุงูุฎุทูุงุช

### 1. ุฅูุดุงุก ุญุณุงุจ Supabase

1. ุชูุฌู ุฅูู [supabase.com](https://supabase.com)
2. ุงููุฑ ุนูู "Sign Up" ูุฃูุดุฆ ุญุณุงุจุงู ุฌุฏูุฏุงู
3. ุงุฎุชุฑ ุฎุทุฉ ุงูุฏูุน (ููููู ุงุณุชุฎุฏุงู ุงูุฎุทุฉ ุงููุฌุงููุฉ ููุจุฏุก)

### 2. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ

1. ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงููุฑ ุนูู "New Project"
2. ุฃุฏุฎู ุงุณู ุงููุดุฑูุน: `hadith-app`
3. ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ ูููุดุฑูุน
4. ุงุฎุชุฑ ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ ุงูุฃูุฑุจ ุฅููู
5. ุงููุฑ ุนูู "Create new project" ูุงูุงูุชุธุงุฑ ุญุชู ูุชู ุฅูุดุงุก ุงููุดุฑูุน

### 3. ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุชุตุงู

ุจุนุฏ ุฅูุดุงุก ุงููุดุฑูุน:

1. ุงููุฑ ุนูู "Settings" ูู ุงูุดุฑูุท ุงูุฌุงูุจู
2. ุงุฎุชุฑ "API" ูู ุงููุงุฆูุฉ
3. ุณุชุฌุฏ:
   - **Project URL**: ุงูุณุฎ ูุฐุง ุงูุฑุงุจุท (ุณูููู ูุซู `https://xxxxx.supabase.co`)
   - **Project API Key**: ุงูุณุฎ ุงูููุชุงุญ ุงูุนุงู (anon key)

### 4. ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฌุฏูู ุงูุชุนูููุงุช (comments)

1. ุงููุฑ ุนูู "SQL Editor" ูู ุงูุดุฑูุท ุงูุฌุงูุจู
2. ุงููุฑ ุนูู "New Query"
3. ุงูุณุฎ ูุงูุตู ุงูููุฏ ุงูุชุงูู:

```sql
-- ุฅูุดุงุก ุฌุฏูู ุงูุชุนูููุงุช
CREATE TABLE IF NOT EXISTS comments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    hadith_id INTEGER NOT NULL,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) NOT NULL,
    comment TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ุฅูุดุงุก ููุฑุณ ููุจุญุซ ุงูุณุฑูุน
CREATE INDEX IF NOT EXISTS idx_comments_hadith_id ON comments(hadith_id);
CREATE INDEX IF NOT EXISTS idx_comments_created_at ON comments(created_at DESC);

-- ุชูุนูู RLS (Row Level Security)
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;

-- ุงูุณูุงุญ ุจุงููุฑุงุกุฉ ููุฌููุน
CREATE POLICY "Allow public read access" ON comments
    FOR SELECT
    USING (true);

-- ุงูุณูุงุญ ุจุงูุฅุฏุฑุงุฌ ููุฌููุน
CREATE POLICY "Allow public insert" ON comments
    FOR INSERT
    WITH CHECK (true);
```

4. ุงููุฑ ุนูู "Run" ูุชูููุฐ ุงูููุฏ

### 5. ุชุญุฏูุซ ููู .env

ูู ุฌุฐุฑ ุงููุดุฑูุนุ ุฃูุดุฆ ุฃู ุนุฏูู ููู `.env` ูุฃุถู:

```env
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=your_anon_key_here
```

ุงุณุชุจุฏู:
- `xxxxx` ุจุฑูู ูุดุฑูุนู
- `your_anon_key_here` ุจููุชุงุญ API ุงูุนุงู ุงูุฐู ูุณุฎุชู

### 6. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

ูู ุจุชุดุบูู ุงูุชุทุจูู:

```bash
python3 main.py
```

ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ ูุซู:
```
๐ ุจุฏุก ุชููุฆุฉ Supabase...
โ ุชู ุงูุงุชุตุงู ุจู Supabase ุจูุฌุงุญ
```

## ุงูููุฒุงุช ุงููุชูุฏูุฉ

### ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Email Verification)

ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:

1. ุงุฐูุจ ุฅูู "Authentication" ูู Supabase
2. ุงุฎุชุฑ "Providers"
3. ูุนูู "Email"
4. ุฃุถู ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ

Supabase ูููุฑ ูุณุฎุงู ุงุญุชูุงุทูุฉ ููููุฉ ุชููุงุฆูุงู ูู ุงูุฎุทุท ุงููุฏููุนุฉ.

### ุงููุฑุงูุจุฉ ูุงูุฅุญุตุงุฆูุงุช

ููููู ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฎูุงู:
- **Database** โ **Usage** ูุฑุคูุฉ ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู
- **Logs** ูุฑุคูุฉ ุณุฌู ุงูุนูููุงุช

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "ุชุญุฐูุฑ: ูุดู ุชููุฆุฉ Supabase"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ููู `.env` ููุฌูุฏ ูุตุญูุญ
2. ุชุญูู ูู ุฃู `SUPABASE_URL` ู `SUPABASE_KEY` ุตุญูุญุงู
3. ุชุฃูุฏ ูู ุฃู ูุฏูู ุงุชุตุงู ุฅูุชุฑูุช

### ุฎุทุฃ: "Permission denied"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู RLS ููุนูู ุจุดูู ุตุญูุญ
2. ุชุญูู ูู ุณูุงุณุงุช ุงููุตูู (Policies)
3. ุฌุฑูุจ ุงุณุชุฎุฏุงู ููุชุงุญ ุงูุฎุฏูุฉ (service role key) ุจุฏูุงู ูู ุงูููุชุงุญ ุงูุนุงู

## ุงููุฑุงุฌุน

- [ุชูุซูู Supabase ุงูุฑุณููุฉ](https://supabase.com/docs)
- [ุฏููู SQL ูู Supabase](https://supabase.com/docs/guides/database)
- [Row Level Security](https://supabase.com/docs/guides/auth/row-level-security)
